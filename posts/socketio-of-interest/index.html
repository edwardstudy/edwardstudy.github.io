<!doctype html><html lang=en dir=ltr><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Socket.io:有点意思 | Edwardesire</title><meta name=generator content="Hugo Eureka 0.9.3"><link rel=stylesheet href=/css/eureka.min.9cec6350e37e534b0338fa9a085bf06855de3b0f2dcf857e792e5e97b07ea905d4d5513db554cbc26a9c3da622bae92d.css><script defer src=/js/eureka.min.e30461307d4134a93cbbd7301a29631abc285b8d3df327389368cd910c20926df5759064caf0f8ba686f65edcbdff5ee.js></script>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'"><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/solarized-light.min.css media=print onload="this.media='all',this.onload=null" crossorigin><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js crossorigin></script>
<link rel=stylesheet href=/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css media=print onload="this.media='all',this.onload=null"><script defer type=text/javascript src=/js/fontawesome.min.7b735802cbde01152678cc4a867f0b4bb0597876e29adfcaf1e5b5e99d39d7af87f348fdfd91c7eaf9ed7dc1eece7c61.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ media=print onload="this.media='all',this.onload=null" crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js integrity=sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0 crossorigin></script>
<link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32_hub39b788047e733a7d94c242c3bed8659_782_32x32_fill_box_center_3.png><link rel=apple-touch-icon sizes=180x180 href=/images/favicon-32x32_hub39b788047e733a7d94c242c3bed8659_782_180x180_fill_box_center_3.png><meta name=description content="下面页面就是使用Socket.io制作的口袋妖怪游戏(默认小屏下已隐藏，请切换到大分辨率查看)。左边是游戏画面，右边是按键表和聊天室。画面达到红蓝版本"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"/posts/"},{"@type":"ListItem","position":2,"name":"Socket.io:有点意思","item":"/posts/socketio-of-interest/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/socketio-of-interest/"},"headline":"Socket.io:有点意思 | Edwardesire","datePublished":"2015-03-21T15:51:32+00:00","dateModified":"2015-03-21T15:51:32+00:00","wordCount":3820,"publisher":{"@type":"Person","name":"C. Wang","logo":{"@type":"ImageObject","url":"/images/favicon-32x32.png"}},"description":"下面页面就是使用Socket.io制作的口袋妖怪游戏(默认小屏下已隐藏，请切换到大分辨率查看)。左边是游戏画面，右边是按键表和聊天室。画面达到红蓝版本"}</script><meta property="og:title" content="Socket.io:有点意思 | Edwardesire"><meta property="og:type" content="article"><meta property="og:image" content="/images/favicon-32x32.png"><meta property="og:url" content="/posts/socketio-of-interest/"><meta property="og:description" content="下面页面就是使用Socket.io制作的口袋妖怪游戏(默认小屏下已隐藏，请切换到大分辨率查看)。左边是游戏画面，右边是按键表和聊天室。画面达到红蓝版本"><meta property="og:locale" content="en"><meta property="og:site_name" content="Edwardesire"><meta property="article:published_time" content="2015-03-21T15:51:32+00:00"><meta property="article:modified_time" content="2015-03-21T15:51:32+00:00"><meta property="article:section" content="posts"><meta property="article:tag" content="Nodejs"><meta property="article:tag" content="Socket.IO"><meta property="og:see_also" content="/posts/mean-create-restful-web-service/"><meta property="og:see_also" content="/posts/run-mean-on-ec2/"><meta property="og:see_also" content="/posts/centos-install-nodejs/"><meta property="og:see_also" content="/posts/nodejs-serialize-dtree/"><meta property="og:see_also" content="/posts/nodejs-deserialize-dtree/"><meta property="og:see_also" content="/posts/nodejs-crawler-is-better/"><body class="flex min-h-screen flex-col"><header class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"><div class="mx-auto w-full max-w-screen-xl"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName('html')[0].classList.add('dark')</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/ class="me-6 text-primary-text text-xl font-bold">Edwardesire</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item me-4">Posts</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>Light</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>Dark</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>Auto</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById('lightDarkMode');storageColorScheme==null||storageColorScheme=='Auto'?document.addEventListener('DOMContentLoaded',()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change',switchDarkMode)}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'sun'),element.firstElementChild.classList.add('fa-sun')):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'moon'),element.firstElementChild.classList.add('fa-moon')),document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8"><div class="grid grid-cols-2 gap-4 lg:grid-cols-8 lg:pt-12"><div class="lg:col-start-2 bg-secondary-bg col-span-2 rounded px-6 py-8 lg:col-span-6"><article class=prose><h1 class=mb-4>Socket.io:有点意思</h1><div class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"><div class="me-6 my-2"><i class="fas fa-calendar me-1"></i>
<span>2015-03-21</span></div><div class="me-6 my-2"><i class="fas fa-clock me-1"></i>
<span>8 min read</span></div><div class="me-6 my-2"><i class="fas fa-folder me-1"></i>
<a href=/categories/nodejs/ class=hover:text-eureka>Nodejs</a>
<span>,</span>
<a href=/categories/socket.io/ class=hover:text-eureka>Socket.IO</a></div></div><p>下面页面就是使用<a href=http://socket.io/>Socket.io</a>制作的口袋妖怪游戏(默认小屏下已隐藏，请切换到大分辨率查看)。左边是游戏画面，右边是按键表和聊天室。画面达到红蓝版本的水平了。</p><iframe class=iframe src=http://weplay.io/ width=700 height=300></iframe><style type=text/css>@media(max-width:992px){.iframe{display:none}}</style><hr><ol><li><p>前导 ——WebSocket的介绍</p><p>  传统的Web应用采用的是客户端发出请求、服务器端响应的工作方式。在这种情景下，浏览器作为Web应用的前端，自身的处理功能是十分有限的。这种方法不能满足某些应用的实时需求（服务器需要主动更新浏览器端的数据）。不同于服务器端等待HTTP请求，这需要服务器端主动发送数据以给客户端更新。解决方案有两类：一类是基于HTTP的Comet推送技术，另一类是基于套接口(Socket)传送信息实现消息传输。</br>  而目前使用Comet主要有两种方式，轮询和iframe流。</p><ul><li><p>轮询 polling</br>  浏览器周期性的发出请求，如果服务器没有新数据需要发送就返回以空响应。这种方法问题很大：首先，大量无意义的请求造成网络压力；其次，请求周期的限制不能及时地获得最新数据。这种方法很快就被淘汰。</p></li><li><p>长轮询 long polling</br>  长轮询是在打开一条连接以后保持连接，等待服务器推送来数据再关闭连接。然后浏览器再发出新的请求，这能更好地管理请求数量，也能及时地更新数据。AJAX调用XMLHttpRequest对象发出HTTP请求，JS响应处理函数根据服务器返回的数据更新HTML页面的展示。这个方法一定程度上消除了简单轮询的弊端，但服务器压力也是很大。</p></li><li><p>iframe流 iframe streaming</br>  iframe流方式是在页面中插入一个隐藏的iframe，利用其src属性在服务器和客户端之间建立一条长链接，服务器向iframe传输数据（通常是HTML，内有负责插入信息的javascript），来实时更新页面。&ldquo;iframe是很早就存在的一种 HTML 标记，通过在 HTML 页面里嵌入一个隐蔵帧，然后将这个隐蔵帧的 SRC属性设为对一个长连接的请求，服务器端就能源源不断地往客户端输入数据。”其不足为：进度条会显示一直，反应在页面上就是浏览器标签页的图标会不停地转动。（当然这也是有解决方法的）</p></li></ul><p>  另一类方法则是基于WebSocket</br>  HTML5提供的Websocket不同于上面这些在老的HTML已有框架内的方法，而是在单个TCP连接上进行全双工通讯的协议。目前主流浏览器都已支持。</br>  1. 初始化过程</br>   不同于早期JAVA使用在浏览器安装插件的方法——-Java Applet 套接口：这种方法不足在于Java Applet再收到服务器返回的消息后，无法通过Javascript去更新HTML页面的内容。而是通过HTTP建立连接(HTTP handshake)。</br>  2. 开始通讯</br>   一旦初始连接建立，浏览器和服务器就打开了一个TCP socket的频道。在这个频道内就能进行双向的数据通信。</p><p>然而Websocket依然有一些问题。比如浏览器兼容性问题（随着浏览器的发展，肯定是越来越小的），以及网络中间物(代理服务、防火墙)问题不支持WebSocket，这时Socket.io的出现就是为了完善WebSocket。</p></li><li><p>Socket.IO</p><p>  Guillermo Rauch在2010年开发第一版时，目的很明确地指向Node.js实时应用。在几次版本更新后，重新定义和封装核心功能而分化出一个基础模块 Engine.io——力求建立更稳定的工具。Engine.IO有着更稳定的连接质量。使得Socket.IO在先打开一个长轮询，再在将连接推至WebSocket频道继续通信。</br>  在使用Node的http模块创建服务器同时还要Express应用，因为这个服务器对象需要同时充当Express服务和Socket.io服务。(如下)</p><pre><code> var app = require('express')(); //Express服务
 var server = require('http').Server(app); //原生Http服务
 var io = require('socket.io')(server); //Socket.io服务
 io.on('connection', function(socket){
 	/* 具体操作 */
 });
 server.listen(3000);
</code></pre><p>  当客户端需要连接服务器时，它需要先建立一个握手。io.处理连接事件，socket 处理断开连接事件。在上面代码里，这套握手机制是完全自动的，我们可以通过也可以io.use()方法来设置这一过程。</br>  客户端使用js调用socket.io的Client API即可。</p><pre><code> &lt;script src=&quot;/lib/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;
 &lt;script&gt;
    var socket = io();
    socket.on('connect', function() {
    		/* 具体操作 */
    });
 &lt;/script&gt;
</code></pre><p>  Socket.IO还要一些系统事件，包括了连接、重连、关闭的事件。我们也可以自定义事件，以及监听方法。</p><pre><code> socket.on('customEvent', function(customEventData) {
  	/* 具体操作 */
  });
</code></pre><p>  相应地，在对的时间和地方的调用.emit(&lsquo;customEvent&rsquo;, customEventData); 触发事件就行了。不过，事件是无法在客户端之间发送的。</br>  同一个服务器可以使用namespaces创造不同的Socket连接。Socket.IO使用of()来指定不同的命名空间。</p><pre><code> io.of('/someNamespace').on('connection', function(socket){
 	socket.on('customEvent', function(customEventData) {
 		/* 具体操作 */
 	});
 });
 io.of('/someOtherNamespace').on('connection', function(socket){
 	socket.on('customEvent', function(customEventData) {
 	/* 具体操作 */
 	});
 });
</code></pre><p>  服务器端则通过在定义Socket对象时传递namespace参数。</p><pre><code> &lt;script&gt;
  var someSocket = io('/someNamespace');
  someSocket.on('customEvent', function(customEventData) {
  	/* 具体操作 */
  });
  var someOtherSocket = io('/someOtherNamespace');
  someOtherSocket.on('customEvent', function(customEventData) {
  	/* 具体操作 */
  });
 &lt;/script&gt;
</code></pre><p>  在每一个namespace中又可以使用room来进一步划分，不过sockets是使用join()、leave()来调用。</p><pre><code> //服务器端
 io.on('event', function(eventData){
      //监听join事件
      socket.on('join', function(roomData){
           socket.join(roomData.roomName);
      });
      //监听leave事件
      socket.on('leave', function(roomData){
           socket.leave(roomData.roomName);
      });
 });
 //浏览器端
 io.on('connection', function(socket){
      //在此room下触发事件
      io. in('someRoom') .emit('customEvent', customEventData);
 });
</code></pre></li></ol><hr><p>  下面通过<a href=https://www.packtpub.com/web-development/mean-web-development>《MEAN Web Development》</a>书中的例子来实际操作一下。</p><ol start=2><li><p>配置Socket.io服务器
 首先安装安装Socket.IO、connect-mongo、cookie-parser依赖我们先将依赖报引入，然后定义服务器对象。</p><pre><code> var http = require('http');
 var socketio = require('socket.io');
 //...
 var app = express();
 var server = http.createServer(app);
 var io = socketio.listen(server);
</code></pre></li><li><p>配置Socket.io Session
 为了是Socket.io seesion 和Express session一起工作，我们必须让他们信息共享。Express Session 默认是存储在内存，我们需要把它存在mongoDB以便Socket.io能获取。使用connect-mongo来控制session信息的存储，以及使用以前用到过的cookie-parse来解析session cookie信息。</br> 先来修改express.js文件以便connect-mongo能够正常使用。</p><pre><code> var mongoStore = new MongoStore({
     db: db.connection.db //通过server.js传递参数db到express的配置中
 });
 app.use(session({
     saveUninitialized: true,
     resave: true,
     secret: config.sessionSecret,
     store: mongoStore
 }));
</code></pre><p> 这样Session就存到数据库中来，新建配置文件socketio.js来配置socketio</p><pre><code> var config = require('./config'),
     cookieParser = require('cookie-parser'),
     passport = require('passport');
 /**
  * @description
  * @param {HTTP object} server 带socket服务的http服务
  * @param {Socket.io Object} io 监听server的Socket服务
  * @param {MongoStore Object} mongoStore mongoDB的存储
  *
  * */
 module.exports = function(server, io, mongoStore){
     io.use(function(socket, next){
         //解析请求socket.request
         cookieParser(config.sessionSecret)(socket.request, {}, function(err){
             //获得sessionId
             var sessionId = socket.request.signedCookies['connect.sid'];
             //获得数据库中的session数据
             mongoStore.get(sessionId, function(err, session){
                 socket.request.session = session;
                 //填充 socket.request.user对象
                 passport.initialize()(socket.request, {}, function(){
                     passport.session()(socket.request, {}, function(){
                         if(socket.request.user){
                             next(null, true);
                         }else{
                             next(new Error('User is not authenticated'), false);
                         }
                     });
                 });
             });
         });
         io.on('connection', function(socket){
             console.log('a socket is connected');
             require('../app/controllers/chat.server.controller')(io, socket);
         });
     });
 };
</code></pre><p> cookieParser首先解析Express的Session，然后读取sessionId获得数据库中的session数据，填充到user对象中。如果通过passport来验证用户数据是非法的，则跳出Socket.IO的设置，并发出错误提示。接下来只需要建立Socket.IO的后端控制器即可完成后端的开发。</p></li><li><p>配置chat控制器
 chat功能的控制器统一监听和触发Socket.IO事件来进行数据通信。通过事件处理的回调函数来控制数据格式的建立和分发。</p><pre><code> module.exports = function(io, socket){
 	//触发chatMessage事件，提示用户已连接
     io.emit('chatMessage', {
         type: 'status',
         text: 'connected',
         created: Date.now(),
         username: socket.request.user.username
     });
     //监听chatMessage事件，获得用户的消息
     socket.on('chatMessage', function(message){
         message.type = 'message';
         message.created = Date.now();
         messsage.username = socket.request.user.username;
         //触发事件并发送数据。
         io.emit('chatMessage', message);
     });
 	//监听断开连接事件
     socket.on('disconnect', function(message){
     	//触发事件并发送数据。
         io.emit('chatMessage', {
             type: 'status',
             text: 'disconnected',
             created: Date.now(),
             username: socket.request.user.username
         });
     });
 };
</code></pre><p> 确定监听事件规则后，将控制器载入到Socket.IO的连接事件处理函数中即可。</p><pre><code> io.on('connection', function(socket){
     console.log('a socket is connected');
     require('../app/controllers/chat.server.controller')(io, socket);
 });
</code></pre></li><li><p>Angular前端设计
 我们先通过建立ng-resource来封装Socket.IO的方法，再中前端的控制器中调用。</br> service是懒加载，即只有在请求时才加载。这可以阻止未验证用户调用到service的方法来获得数据，将emit()、on()、removeListenter()一套方法封装成的更相容的服务方法，减少代码的重写。然而ng的数据绑定只有在框架内执行的方法才能实时改变，也就是说第三方事件导致的数据模型的改变是未知的。那么，我们在socket中任何事件被触发时，处理函数对数据的修改可能不会及时地绑定到$scope数据模型上。（这都是抄来的）这里使用$timeout来强制完成数据的绑定。</p><pre><code> angular.module('chat').service('Socket', ['Authentication', '$location', '$timeout', function(Authentication, $location, $timeout){
 	//首先确认用户
     if(Authentication.user){
         this.socket = io();
     }else{
         $location.path('/');
     }
 	//通用监听方法
     this.on = function(eventName, callback){
         if(this.socket){
             this.socket.on(eventName, function(data){
                 $timeout(function(){
                     callback(data);
                 });
             });
         }
     };
 	//通用触发方法
     this.emit = function(eventName, data){
         if(this.socket){
             this.socket.emit(eventName, data);
         }
     };
 	//通用删除监听器的方法
     this.removeListener = function(eventName){
         if(this.socket){
             this.socket.removeListener(eventName);
         }
     };
 }]);
</code></pre><p> 接着在前端控制器中调用这些方法来处理后端触发的事件和触发后端能处理的事件。</p><pre><code> //监听后端发送的chatMessage事件
 Socket.on('chatMessage', function(message){
     $scope.messages.push(message);
 });
 //监听后端发送的chatMessage事件
 $scope.sendMessage = function(){
     var message = {
         text: this.messageText
     };
 	//监听后端发送的chatMessage事件
     Socket.emit('chatMessage', message);
 	//及时清空ng-model
     this.messageText = '';
 };
 //监听$destroy，当controller实例被摧毁删除 监听器
 $scope.$on('$destroy', function(){
     Socket.removeListener('chatMessage');
 });
</code></pre><p> 将ng引入到对应的视图模板，测试一下即可。</p><p><img src=http://edwardsblog.qiniudn.com/image/7/07/9b713792922e5d1f91c9783ee9243.png alt></p></li></ol><hr><p>以上就是Socket.IO的上手实战。先了解Socket.IO的工作机制，再将整个数据通信的流程走了一遍，在实践上将Socket.IO与Express、Passport整合到一起完成了Web聊天室的功能，也见识到了Node.JS的小组件大组合的哲学。</p><hr><p>References:</p><ol><li><a href=http://www.ibm.com/developerworks/cn/web/wa-lo-comet/>推送技术</a></li><li><a href=https://github.com/EdwardStudy/MEAN-stack-demo/tree/master/Socket-demo>小程源码</a></li></ol></article><div class=my-4><a href=/tags/nodejs/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#Nodejs</a>
<a href=/tags/socket.io/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-eureka">#Socket.IO</a></div><div class="-mx-2 mt-4 flex flex-col border-t px-2 pt-4 md:flex-row md:justify-between"><div><span class="text-primary-text block font-bold">Previous</span>
<a href=/posts/goto-leetcode-two-sum/ class=block>Leetcode 编程训练[1]:Two Sum</a></div><div class="mt-4 md:mt-0 md:text-right"><span class="text-primary-text block font-bold">Next</span>
<a href=/posts/linux-mysql-remote-access/ class=block>Linux下设置Mysql远程连接</a></div></div><div id=disqus_thread></div><script>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var t=document,e=t.createElement('script');e.async=!0,e.src='//edwardesire.disqus.com/embed.js',e.setAttribute('data-timestamp',+new Date),(t.head||t.body).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div class="lg:col-start-2 bg-secondary-bg prose col-span-2 rounded p-6 lg:col-span-6"><h3>See Also</h3><a href=/posts/mean-create-restful-web-service/ class=no-underline>MEAN Stack:创建RESTful web service</a><br><a href=/posts/run-mean-on-ec2/ class=no-underline>在EC2上安装MEAN环境</a><br><a href=/posts/centos-install-nodejs/ class=no-underline>CentOS 6.3安装NodeJS环境</a><br><a href=/posts/nodejs-serialize-dtree/ class=no-underline>NodeJS:树的序列化</a><br><a href=/posts/nodejs-deserialize-dtree/ class=no-underline>NodeJS:树的反序列化</a><br><a href=/posts/nodejs-crawler-is-better/ class=no-underline>NodeJS学习：爬虫小探补完计划</a><br></div></div><script>document.addEventListener("DOMContentLoaded",()=>{hljs.highlightAll()})</script></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2021 <a href=https://www.edwardesire.com/>Edward Desire</a>
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></div></div></footer></body></html>